## Working on purchase module 
- purchaseorder and purchase item module 
```
class PurchaseOrder(models.Model):

supplier = models.ForeignKey(Supplier, on_delete=models.CASCADE)

warehouse = models.ForeignKey(Warehouse, on_delete=models.CASCADE)

date = models.DateField(auto_now_add=True)

reference_number = models.CharField(max_length=50, unique=True)

status = models.CharField(

max_length=20,

choices=[('Pending', 'Pending'), ('Received', 'Received')],

default='Pending'

)

  

def __str__(self):

return f"PO-{self.reference_number} ({self.supplier.name})"
```
- gotta update the price dynamically through product records
```
  class PurchaseItem(models.Model):

purchase_order = models.ForeignKey(PurchaseOrder, on_delete=models.CASCADE, related_name='items')

product = models.ForeignKey(Product, on_delete=models.CASCADE)

quantity = models.PositiveIntegerField()

price = models.DecimalField(max_digits=10, decimal_places=2, blank=True, null=True)

  

def save(self, *args, **kwargs):

# Automatically set price from product if not provided

if self.price is None:

self.price = self.product.price

super().save(*args, **kwargs)

  

@property

def total_price(self):

return self.quantity * self.price

  

def __str__(self):

return f"{self.product.name} ({self.quantity})"
  ```
  -  the purchase order module was not being saved properly
  - first the saved values were being lost on saving and when pressing edit all the previous selected products were lost 
  - probably a problem in the frontend side idk
  - had to over haul the code again for it to work
  - dunno what the issue was but i'll check tomorrow
  - but there is more issue as marking received on the go from the form doesn't update the inventory
  - fixed the quantity updates using utils and signals 